<h2>Template-driven forms Exam</h2>
<form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)" novalidate>
  <div class="form-group">
    <label for="userid">User Id</label>
    <input
      type="text"
      name="userid"
      class="form-control"
      [(ngModel)]="user['userid']"
      #userid="ngModel"
      pattern="^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$"
      required
    />
    <em *ngIf="userid.errors?.['pattern'] && userid.touched" class="alert">
      User id는 email 형식으로 입력하세요
    </em>
    <em *ngIf="userid.errors?.['required'] && userid.touched" class="alert">
      User id로 사용할 email을 입력하세요!
    </em>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input
      type="password"
      name="password"
      class="form-control"
      [(ngModel)]="user['password']"
      #password="ngModel"
      pattern="[a-zA-z]{4,10}"
      required
    />
    <em *ngIf="password.errors?.['pattern'] && password.touched" class="alert">
      password는 영문 또는 숫자로 4자리 이상 10이하로 입력하세요
    </em>
    <em *ngIf="password.errors?.['required'] && password.touched" class="alert">
      password를 입력하세요!
    </em>
  </div>

  <div class="form-group">
    <label for="role">Role</label>
    <select
      name="role"
      id="role"
      class="form-control"
      [(ngModel)]="user['role']"
      required
    >
      <option *ngFor="let role of roles; let i = index" [value]="role">
        {{ role }}
      </option>
    </select>
  </div>

  <div class="form-group">
    <label for="username">User Name</label>
    <input
      type="text"
      name="name"
      class="form-control"
      [(ngModel)]="user.name"
    />
  </div>

  <button type="submit" class="btn btn-success" [disabled]="userForm.invalid">
    Submit
  </button>
</form>

<pre>
  userForm.value: {{ userForm.value | json }}
</pre>

<pre>
  userForm.valid: {{ userForm.valid }}
</pre>

<pre>
  User: {{ user | json }}
</pre>
